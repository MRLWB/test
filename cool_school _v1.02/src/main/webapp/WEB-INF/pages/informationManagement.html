<style type="text/css">
input {
	width: 25%;
}
</style>
<h3>信息管理 infromationManagement</h3>
<form>
	<div class="form-group">
		<label for="exampleInputEmail1">用户名</label> 
		<input type="text" class="form-control" id="exampleInputEmail1" placeholder="email"
			style="width: 250px">
	</div>
	<div class="form-group">
		<label for="exampleInputPhone">电话号码</label> <input type="text"
			class="form-control" id="exampleInputPhone" placeholder="phone"
			style="width: 250px">
	</div>
	<!-- <div class="form-group">
		<label for="exampleInputPassword1">旧的密码</label> <input type="text"
			class="form-control" id="exampleInputPassword1"
			placeholder="password" style="width: 250px">
	</div> -->
	<div class="form-group">
		<label for="exampleInputPassword1">新的密码</label> <input type="password"
			class="form-control" id="exampleInputPassword2"
			placeholder="password" style="width: 250px">
	</div>
	<button id="changePassword" type="button" class="btn btn-default">提交修改密码请求</button>
</form>

<script>
	$(document).ready(function() {
		doGetObject();

		$("#changePassword").on("click", function() {
			doUpdateUserMessage();
		})
	})

	function doGetObject() {
		var data = $("#mainContentId").data("rowData");
		
		$("#exampleInputEmail1").val(data.userName);
		$("#exampleInputPhone").val(data.mobile);

	}

	function doUpdateUserMessage() {
		var data = $("#mainContentId").data("rowData");
		var userName=$("#exampleInputEmail1").val();
		var mobile=$("#exampleInputPhone").val();
		var passWord=$("#exampleInputPassword2").val();
		var id=data.id;
		var params={
				"id":id,
				"userName":userName,
				"mobile":mobile,
				"passWord":passWord
		}
		var url="userMessage/doUpdateUserMessage.do";
		$.getJSON(url,params,function(result){
			if(result.state==1){
				alert("ok");
			}else{
				alert("false");
				console.log(result)
			}
		})
		
	}
</script>